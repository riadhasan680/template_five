<div class="bg-[#f2f2f2]  pt-14">
    <div class="max-w-[1280px] mx-auto px-4">
        <!-- Section Header -->
        <div class="text-center mb-12">
            <div class="border-t border-gray-500 mb-4"></div>
            <h2 class="text-xl md:text-xl font-semibold uppercase tracking-tighter text-black font-sans inline-block">{{ .Site.Params.meet_the_team.title }}</h2>
            <div class="border-t border-gray-500 mt-4"></div>
        </div>

        <!-- Carousel Container -->
        <div class="relative group px-4 md:px-12 pt-14">
            <!-- Previous Button -->
            <button id="team-prev" class="absolute left-0 top-1/2 transform -translate-y-1/2 z-10 w-10 h-16 bg-pcg-red text-white flex items-center justify-center hover:bg-red-700 transition-colors opacity-0 group-hover:opacity-100 focus:opacity-100 disabled:opacity-50 disabled:cursor-not-allowed">
                <i class="fas fa-chevron-left text-xl"></i>
            </button>

            <!-- Slider Track -->
            <div id="team-slider" class="flex overflow-x-auto gap-8 pb-8 scroll-smooth scrollbar-hide snap-x snap-mandatory">
                {{ range .Site.Params.meet_the_team.members }}
                <div class="flex-none w-[280px] snap-center">
                    <a href="{{ .url }}" class="flex flex-col items-center text-center group/member">
                        <!-- Image Circle with Color Background -->
                        <div class="relative w-48 h-48 rounded-full mb-6 shadow-[0_8px_16px_rgba(0,0,0,0.15)] overflow-hidden transition-transform duration-300 group-hover/member:scale-105" style='background-color: {{ .color | default "#e0e0e0" }};'>
                            <!-- Using multiply blend mode to simulate the stylized look over color -->
                            <img src="{{ .image }}" alt="{{ .name }}" class="w-full h-full object-cover mix-blend-multiply filter grayscale contrast-125 brightness-110">
                        </div>
                        
                        <!-- Name & Role -->
                        <h3 class="text-xl font-bold text-gray-900 mb-2 font-sans tracking-tight group-hover/member:text-pcg-red transition-colors">{{ .name }}</h3>
                        <p class="text-gray-600 text-sm leading-relaxed px-4 font-sans">{{ .role }}</p>
                    </a>
                </div>
                {{ end }}
            </div>

            <!-- Next Button -->
            <button id="team-next" class="absolute right-0 top-1/2 transform -translate-y-1/2 z-10 w-10 h-16 bg-pcg-red text-white flex items-center justify-center hover:bg-red-700 transition-colors opacity-0 group-hover:opacity-100 focus:opacity-100 disabled:opacity-50 disabled:cursor-not-allowed">
                <i class="fas fa-chevron-right text-xl"></i>
            </button>
        </div>
        
        <!-- Scrollbar Customization (Hidden) -->
        <style>
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
        </style>

        <!-- Slider Script -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const slider = document.getElementById('team-slider');
                const prevBtn = document.getElementById('team-prev');
                const nextBtn = document.getElementById('team-next');
                
                if (!slider || !prevBtn || !nextBtn) return;

                // Scroll amount (card width + gap)
                const scrollAmount = 312; // 280px + 32px gap

                prevBtn.addEventListener('click', () => {
                    slider.scrollBy({
                        left: -scrollAmount,
                        behavior: 'smooth'
                    });
                });

                nextBtn.addEventListener('click', () => {
                    slider.scrollBy({
                        left: scrollAmount,
                        behavior: 'smooth'
                    });
                });

                // Optional: Hide buttons at ends
                const updateButtons = () => {
                    prevBtn.style.opacity = slider.scrollLeft <= 0 ? '0.5' : '';
                    // Simple check for end (not perfect but good enough for simple slider)
                    const maxScroll = slider.scrollWidth - slider.clientWidth;
                    nextBtn.style.opacity = slider.scrollLeft >= maxScroll - 10 ? '0.5' : '';
                };

                slider.addEventListener('scroll', updateButtons);
                // Initial check
                updateButtons();
            });
        </script>
    </div>
</div>