{{ define "main" }}
<!-- Home Page Tabs (Popular, GOTY, etc.) -->
{{ partial "home/tabs.html" . }}
<div class="bg-gray-50 pt-14 pb-20">
    <div class="max-w-[1400px] mx-auto px-4 md:px-6">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
            <!-- Main Content (Left/Center) -->
            <div class="lg:col-span-12">
                
                <!-- Author Profile Header -->
                <div class="bg-white rounded-2xl p-8 mb-12 border border-gray-200 relative overflow-hidden group shadow-sm">
                    <!-- Background Pattern -->
                    <div class="absolute inset-0 opacity-[0.03] bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAzNHYtNGgtMnY0aC0ydjRoMnY0aDJ2LTRoMnYtNGgtMnpNMzYgMzRWMzRoNHYzaC00di0zek0zNiAzNFYzNGg0djNoLTR2LTN6IiBmaWxsPSIjMDAwMDAwIi8+PC9nPjwvc3ZnPg==')]"></div>
                    
                    <div class="flex flex-col md:flex-row gap-10 items-center relative z-10">
                        <!-- Avatar -->
                        <div class="flex-shrink-0">
                            <div class="w-40 h-40 md:w-56 md:h-56 rounded-full overflow-hidden border-8 border-gray-50 shadow-2xl group-hover:scale-105 transition-transform duration-500 relative">
                                <img src="{{ .Params.image }}" alt="{{ .Title }}" class="w-full h-full object-cover">
                                <div class="absolute inset-0 ring-1 ring-inset ring-black/10 rounded-full"></div>
                            </div>
                        </div>
                        
                        <!-- Info -->
                        <div class="flex-grow text-center md:text-left">
                            <div class="flex flex-col md:flex-row items-center md:items-start gap-4 mb-4 justify-center md:justify-start">
                                <h1 class="text-5xl md:text-6xl font-black text-gray-900 tracking-tighter font-serif leading-none">{{ .Title }}</h1>
                                {{ if .Params.verified }}
                                <span class="text-pcg-red text-2xl" title="Verified Staff"><i class="fas fa-check-circle"></i></span>
                                {{ end }}
                            </div>
                            
                            <div class="flex flex-wrap items-center justify-center md:justify-start gap-4 mb-6">
                                <span class="px-4 py-1.5 bg-pcg-red text-white text-sm font-bold uppercase tracking-wider rounded-full shadow-sm">{{ .Params.role }}</span>
                                <span class="px-4 py-1.5 bg-gray-100 text-gray-600 text-sm font-bold uppercase tracking-wider rounded-full border border-gray-200">
                                    <i class="fas fa-pen-nib mr-2"></i>Senior Staff
                                </span>
                            </div>
                            
                            <div class="prose prose-lg text-gray-600 mb-8 font-sans leading-relaxed max-w-3xl mx-auto md:mx-0">
                                <p>{{ .Content }}</p>
                            </div>
                            
                            <!-- Social Links -->
                            <div class="flex gap-4 justify-center md:justify-start">
                                {{ with .Params.social.twitter }}
                                <a href="{{ . }}" class="w-12 h-12 rounded-xl bg-black text-white flex items-center justify-center hover:bg-gray-800 hover:-translate-y-1 transition-all shadow-md">
                                    <i class="fab fa-x-twitter text-lg"></i>
                                </a>
                                {{ end }}
                                {{ with .Params.social.email }}
                                <a href="mailto:{{ . }}" class="w-12 h-12 rounded-xl bg-white border-2 border-gray-200 text-gray-700 flex items-center justify-center hover:border-pcg-red hover:text-pcg-red hover:-translate-y-1 transition-all shadow-md">
                                    <i class="fas fa-envelope text-lg"></i>
                                </a>
                                {{ end }}
                                <a href="#" class="w-12 h-12 rounded-xl bg-[#5865F2] text-white flex items-center justify-center hover:opacity-90 hover:-translate-y-1 transition-all shadow-md">
                                    <i class="fab fa-discord text-lg"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tabs Navigation -->
                <div class="sticky top-0 z-20 bg-gray-50/95 backdrop-blur-sm pt-4 pb-4 mb-8 border-b border-gray-200">
                    <div class="flex overflow-x-auto gap-8 no-scrollbar">
                        <button class="text-lg font-black text-pcg-red border-b-4 border-pcg-red pb-2 uppercase tracking-tight whitespace-nowrap">Latest Articles</button>
                        <button class="text-lg font-bold text-gray-400 hover:text-gray-900 border-b-4 border-transparent hover:border-gray-200 pb-2 uppercase tracking-tight whitespace-nowrap transition-colors">Reviews</button>
                        <button class="text-lg font-bold text-gray-400 hover:text-gray-900 border-b-4 border-transparent hover:border-gray-200 pb-2 uppercase tracking-tight whitespace-nowrap transition-colors">Features</button>
                        <button class="text-lg font-bold text-gray-400 hover:text-gray-900 border-b-4 border-transparent hover:border-gray-200 pb-2 uppercase tracking-tight whitespace-nowrap transition-colors">Guides</button>
                        <button class="text-lg font-bold text-gray-400 hover:text-gray-900 border-b-4 border-transparent hover:border-gray-200 pb-2 uppercase tracking-tight whitespace-nowrap transition-colors">Videos</button>
                    </div>
                </div>

                <!-- Articles Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    {{ $author := .Title }}
                    {{ $authorPosts := where .Site.RegularPages "Params.author" "eq" $author }}
                    
                    {{/* Always show author posts, fill with others if fewer than 16 */}}
                    {{ $displayPosts := $authorPosts }}
                    {{ $targetCount := 16 }}
                    
                    {{ if lt (len $displayPosts) $targetCount }}
                        {{ $needed := sub $targetCount (len $displayPosts) }}
                        {{ $otherPosts := where .Site.RegularPages "Params.author" "ne" $author }}
                        {{ $more := first $needed $otherPosts }}
                        {{ $displayPosts = $displayPosts | append $more }}
                    {{ end }}

                    {{ range $displayPosts }}
                    <article class="bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col h-full group">
                        <!-- Image -->
                        <div class="relative aspect-[16/10] overflow-hidden bg-gray-100">
                            <a href="{{ .RelPermalink }}" class="block w-full h-full">
                                <span class="absolute top-3 left-3 bg-white/90 backdrop-blur-sm text-black text-[10px] font-black uppercase px-2 py-1 z-10 tracking-widest rounded-sm shadow-sm border border-black/5 group-hover:bg-pcg-red group-hover:text-white transition-colors">
                                    {{ .Params.category | default "Article" }}
                                </span>
                                <img src="{{ .Params.image }}" alt="{{ .Title }}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            </a>
                        </div>
                        
                        <!-- Content -->
                        <div class="p-5 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold text-gray-900 leading-tight mb-3 font-serif group-hover:text-pcg-red transition-colors line-clamp-3">
                                <a href="{{ .RelPermalink }}">{{ .Title }}</a>
                            </h3>
                            
                            <p class="text-gray-500 text-sm leading-relaxed line-clamp-3 font-sans mb-4 flex-grow">
                                {{ .Summary | truncate 100 }}
                            </p>

                            <div class="flex items-center justify-between mt-auto pt-4 border-t border-gray-100">
                                <time class="text-xs font-bold uppercase text-gray-400">{{ .Date.Format "Jan 2, 2006" }}</time>
                                {{ if .Params.comments }}
                                <span class="flex items-center text-xs font-bold text-gray-400 group-hover:text-pcg-red transition-colors">
                                    <i class="fas fa-comment mr-1.5"></i> {{ .Params.comments }}
                                </span>
                                {{ end }}
                            </div>
                        </div>
                    </article>
                    {{ end }}
                </div>
                
                <!-- "Load More" Button (Visual only) -->
                <div class="mt-16 text-center">
                    <button class="px-8 py-4 bg-white border-2 border-gray-200 text-gray-900 font-black uppercase tracking-widest hover:border-pcg-red hover:text-pcg-red hover:bg-red-50 transition-all rounded-lg shadow-sm">
                        Load More Articles <i class="fas fa-chevron-down ml-2"></i>
                    </button>
                </div>

            </div>
        </div>
    </div>
</div>
{{ end }}
